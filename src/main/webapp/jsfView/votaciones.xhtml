<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:c= "http://java.sun.com/jsp/jstl/core">
<h:head>
	<title>#{msgs.li1}</title>
</h:head>
<h:body> 
	<h3>#{msgs.li1}</h3>
	<p>#{msgs.temas}:</p>
	#{votacionesBean.update()}
	<ul>
		<ui:repeat var="tema" scope="request" value="#{votacionesBean.temas}">
			<li>#{tema.nombre}
				<table>
					<tr>
						<th>#{msgs.nVotos}</th>
						<ui:repeat var="estudio" value="#{votacionesBean.estudios}">
							<th>#{estudio}</th>
						</ui:repeat>
					</tr>
					<tr>
						<c:forEach var="votacion" items="#{votacionesBean.getVotacion(tema.getId())}">
							<td>#{votacion}</td>
						</c:forEach>
					</tr>		
				</table>
			</li>
		</ui:repeat>
	</ul>
	<h:form>
		<h:commandLink action="#{votacionesBean.change('es')}" value="Español" /> | 
        <h:commandLink action="#{votacionesBean.change('en')}" value="English" />
	</h:form>
</h:body>
</html>